!function(a){"use strict";a.AxisBuilderSidebars=function(){this.widgetArea=a("#widgets-right"),this.widgetWrap=a(".widget-liquid-right"),this.widgetTmpl=a("#tmpl-axisbuilder-form-delete-sidebar"),this.createForm(),this.deleteIcon(),this.bindEvents()},a.AxisBuilderSidebars.prototype={createForm:function(){this.widgetArea.prepend(this.widgetTmpl.html())},deleteIcon:function(){this.widgetArea.find(".sidebar-axisbuilder-custom-widgets-area").css("position","relative").append('<div class="axisbuilder-delete-sidebar"><br /></div>')},bindEvents:function(){this.widgetWrap.on("click",".axisbuilder-delete-sidebar",a.proxy(this.delete_sidebar,this))},delete_sidebar:function(b){var c=this,d=a(b.currentTarget).parents(".widgets-holder-wrap:eq(0)"),e=d.find(".sidebar-name h3"),f=e.find(".spinner"),g=a.trim(e.text()),h={sidebar:g,action:"axisbuilder_delete_custom_sidebar",security:axisbuilder_admin_sidebars.delete_custom_sidebar_nonce};a(this).AxisBuilderBackboneModal({template:"#tmpl-axisbuilder-modal-delete-sidebar"}),a(document.body).on("axisbuilder_backbone_modal_response",function(b,e){"#tmpl-axisbuilder-modal-delete-sidebar"===e&&a.ajax({url:axisbuilder_admin_sidebars.ajax_url,data:h,type:"POST",beforeSend:function(){f.css("display","inline-block")},success:function(b){b===!0&&(d.slideUp(200,function(){a(".widget-control-remove",d).trigger("click"),d.remove(),c.widgetArea.find(".widgets-holder-wrap .widgets-sortables").each(function(b){a(this).attr("id","sidebar-"+(b+1))}),wpWidgets.saveOrder()}),window.setTimeout(function(){location.reload(!1)},100))}})})}},a(function(){a.AxisBuilderSidebarsObj=new a.AxisBuilderSidebars})}(jQuery);