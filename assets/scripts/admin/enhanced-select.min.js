jQuery(function(a){function b(){var a={formatMatches:function(a){return 1===a?axisbuilder_select_params.i18n_matches_1:axisbuilder_select_params.i18n_matches_n.replace("%qty%",a)},formatNoMatches:function(){return axisbuilder_select_params.i18n_no_matches},formatAjaxError:function(){return axisbuilder_select_params.i18n_ajax_error},formatInputTooShort:function(a,b){var c=b-a.length;return 1===c?axisbuilder_select_params.i18n_input_too_short_1:axisbuilder_select_params.i18n_input_too_short_n.replace("%qty%",c)},formatInputTooLong:function(a,b){var c=a.length-b;return 1===c?axisbuilder_select_params.i18n_input_too_long_1:axisbuilder_select_params.i18n_input_too_long_n.replace("%qty%",c)},formatSelectionTooBig:function(a){return 1===a?axisbuilder_select_params.i18n_selection_too_long_1:axisbuilder_select_params.i18n_selection_too_long_n.replace("%qty%",number)},formatLoadMore:function(){return axisbuilder_select_params.i18n_load_more},formatSearching:function(){return axisbuilder_select_params.i18n_searching}};return a}a("body").on("axisbuilder-enhanced-select-init",function(){a(":input.axisbuilder-enhanced-select").filter(":not(.enhanced)").each(function(){var c=a.extend({minimumResultsForSearch:10,allowClear:a(this).data("allow_clear")?!0:!1,placeholder:a(this).data("placeholder")},b());a(this).select2(c).addClass("enhanced")}),a(":input.axisbuilder-enhanced-select-nostd").filter(":not(.enhanced)").each(function(){var c=a.extend({minimumResultsForSearch:10,allowClear:!0,placeholder:a(this).data("placeholder")},b());a(this).select2(c).addClass("enhanced")}),a(":input.axisbuilder-page-search").filter(":not(.enhanced)").each(function(){var c={allowClear:a(this).data("allow_clear")?!0:!1,placeholder:a(this).data("placeholder"),minimumInputLength:a(this).data("minimum_input_length")?a(this).data("minimum_input_length"):"3",escapeMarkup:function(a){return a},ajax:{url:axisbuilder_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(b){return{term:b,action:a(this).data("action")||"axisbuilder_json_search_pages_and_portfolio",security:axisbuilder_enhanced_select_params.search_post_types_nonce}},results:function(b){var c=[];return b&&a.each(b,function(a,b){c.push({id:a,text:b})}),{results:c}},cache:!0}};a(this).data("multiple")===!0?(c.multiple=!0,c.initSelection=function(b,c){var d=a.parseJSON(b.attr("data-selected")),e=[];return a(b.val().split(",")).each(function(a,b){e.push({id:b,text:d[b]})}),c(e)},c.formatSelection=function(a){return'<div class="selected-option" data-id="'+a.id+'">'+a.text+"</div>"}):(c.multiple=!1,c.initSelection=function(a,b){var c={id:a.val(),text:a.attr("data-selected")};return b(c)}),c=a.extend(c,b()),a(this).select2(c).addClass("enhanced")})}).on("axisbuilder_backbone_modal_before_remove",function(){a(":input.axisbuilder-enhanced-select, :input.axisbuilder-page-search").select2("close")}).trigger("axisbuilder-enhanced-select-init")});