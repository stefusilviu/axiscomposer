jQuery(function(a){function b(){a("#tiptip_holder").removeAttr("style"),a("#tiptip_arrow").removeAttr("style"),a(".tips").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})}b(),a(document.body).on("ac_add_error_tip",function(b,c,d){var e=c.position();0===c.parent().find(".ac_error_tip").length&&(c.after('<div class="ac_error_tip '+d+'">'+axiscomposer_admin_meta_boxes_pagebuilder[d]+"</div>"),c.parent().find(".ac_error_tip").css("left",e.left+c.width()-c.width()/2-a(".ac_error_tip").width()/2).css("top",e.top+c.height()).fadeIn("100"))}).on("ac_remove_error_tip",function(b,c,d){c.parent().find(".wc_error_tip."+d).fadeOut("100",function(){a(this).remove()})}).on("click",function(){a(".ac_error_tip").fadeOut("100",function(){a(this).remove()})}).on("blur",".ac_input_css[type=text], ac_input_gist[type=text]",function(){a(".ac_error_tip").fadeOut("100",function(){a(this).remove()})}).on("change",".ac_input_css[type=text], .ac_input_gist[type=text]",function(){var b;b=a(this).is(".ac_input_css")?new RegExp("[^A-Za-z0-9_-]+","gi"):new RegExp("[^A-Za-z0-9]+","gi");var c=a(this).val(),d=c.replace(b,"");c!==d&&a(this).val(d)}).on("keyup",".ac_input_css[type=text], .ac_input_gist[type=text]",function(){var b,c;a(this).is(".ac_input_css")?(b=new RegExp("[^A-Za-z0-9_-]+","gi"),c="i18n_css_error"):(b=new RegExp("[^A-Za-z0-9]+","gi"),c="i18n_gist_error");var d=a(this).val(),e=d.replace(b,"");d!==e?a(document.body).triggerHandler("ac_add_error_tip",[a(this),c]):a(document.body).triggerHandler("ac_remove_error_tip",[a(this),c])}),a(document.body).on("ac-init-tabbed-panels",function(){a("ul.ac-tabs").show(),a("ul.ac-tabs a").click(function(b){b.preventDefault();var c=a(this).closest("div.panel-wrap");a("ul.ac-tabs li",c).removeClass("active"),a(this).parent().addClass("active"),a("div.panel",c).hide(),a(a(this).attr("href")).show()}),a("div.panel-wrap").filter(":not(.pagebuilder_data)").each(function(){a(this).find("ul.ac-tabs li").eq(0).find("a").click()})}).trigger("ac-init-tabbed-panels"),a(document.body).on("ac-init-datepickers",function(){a(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})}).trigger("ac-init-datepickers"),a(document.body).on("ac-init-iconpicker",function(){a(".icon-picker-field, .icon-picker").click(function(){return a(":input.ac_iconfont_input").val(a(this).parent().data("iconfont")+","+a(this).data("charcode")),a(this).closest("div.ac-iconfont-container").find("span.icon-picker").removeClass("active"),a(this).addClass("active"),!1}),a("div.ac-iconfont-container").each(function(){a(this).find("span.icon-picker").removeClass("inactive")})}).trigger("ac-init-iconpicker"),a(document.body).on("ac-switch-editor-modes",function(){window.editorExpand&&a("#postdivrich").hasClass("wp-editor-expand")&&(window.editorExpand.off(),window.editorExpand.on())}),a(document.body).on("ac-enhanced-modal-elements-init",function(){a("select.availability").change(function(){"specific"===a(this).val()?a(this).closest("tr").next("tr").show():a(this).closest("tr").next("tr").hide()}).change(),a("input.availability").on("keyup change",function(){""!==a(this).val()?a(this).closest("tr").next("tr").show():a(this).closest("tr").next("tr").hide()}).change(),a("textarea.axiscomposer-tinymce").each(function(){var a=window.getUserSetting("editor");quicktags({id:this.id,buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,close"}),QTags._buttonsInit(),window.tinyMCE.execCommand("mceAddEditor",!0,this.id),"html"===a&&window.switchEditors.go(this.id,"html")}),a(":input.color-picker-field, :input.color-picker").filter(":not(.enhanced)").each(function(){var b={palettes:["#000000","#ffffff","#B02B2C","#edae44","#eeee22","#83a846","#7bb0e7","#745f7e","#5f8789","#d65799","#4ecac2"]};a(this).wpColorPicker(b).addClass("enhanced")}),a(document.body).trigger("ac-init-iconpicker"),a(document.body).trigger("ac-enhanced-select-init")}).on("ac_backbone_modal_before_update",function(){a("textarea.axiscomposer-tinymce").each(function(){var a=window.getUserSetting("editor");"html"!==a&&window.switchEditors.go(this.id,"html")}),window.setUserSetting("editor","tmce")}).on("ac_backbone_modal_before_remove",function(){a("textarea.axiscomposer-tinymce").each(function(){window.tinyMCE.execCommand("mceRemoveEditor",!1,this.id)}),a(":input.color-picker-field, :input.color-picker").wpColorPicker("close")}).trigger("ac-enhanced-modal-elements-init")});