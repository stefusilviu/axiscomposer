jQuery(function(a){a(document.body).on("ac_add_error_tip",function(b,c,d){var e=c.position();0===c.parent().find(".ac_error_tip").size()&&(c.after('<div class="ac_error_tip '+d+'">'+axiscomposer_admin_meta_boxes_pagebuilder[d]+"</div>"),c.parent().find(".ac_error_tip").css("left",e.left+c.width()-c.width()/2-a(".ac_error_tip").width()/2).css("top",e.top+c.height()).fadeIn("100"))}).on("ac_remove_error_tip",function(a,b,c){b.parent().find(".ac_error_tip."+c).remove()}).on("click",function(){a(".ac_error_tip").fadeOut("100",function(){a(this).remove()})}).on("blur",".ac_input_class[type=text], .ac_input_id[type=text]",function(){a(".ac_error_tip").fadeOut("100",function(){a(this).remove()})}).on("keyup change",".ac_input_class[type=text], .ac_input_id[type=text]",function(){var b=a(this).val(),c=new RegExp("[^a-zA-Z0-9-_]+","gi"),d=b.replace(c,"");b!==d?(a(this).val(d),a(document.body).triggerHandler("ac_add_error_tip",[a(this),"i18n_css_class_id_error"])):a(document.body).triggerHandler("ac_remove_error_tip",[a(this),"i18n_css_class_id_error"])});var b={attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200};a(".tips, .help_tip").tipTip(b),a("ul.ac-tabs").show(),a("div.panel-wrap").each(function(){a(this).find("div.panel:not(:first)").hide()}),a("ul.ac-tabs a").click(function(){var b=a(this).closest("div.panel-wrap");return a("ul.ac-tabs li",b).removeClass("active"),a(this).parent().addClass("active"),a("div.panel",b).hide(),a(a(this).attr("href")).show(),!1}),a("div.panel-wrap").each(function(){a(this).find("ul.ac-tabs li").eq(0).find("a").click()}),a(document.body).on("ac-init-datepickers",function(){a(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})}).trigger("ac-init-datepickers"),a(document.body).on("ac-init-wp-editor",function(){var b="editorExpand"in window&&null!==window.editorExpand;b&&a("#editor-expand-toggle").prop("checked")&&(window.editorExpand.off(),window.editorExpand.on())}),a(document.body).on("ac-enhanced-modal-elements-init",function(){a("select.availability").change(function(){"specific"===a(this).val()?a(this).closest("tr").next("tr").show():a(this).closest("tr").next("tr").hide()}).change(),a("input.availability").on("keyup change",function(){""!==a(this).val()?a(this).closest("tr").next("tr").show():a(this).closest("tr").next("tr").hide()}).change(),a("textarea.axiscomposer-tinymce").each(function(){var b=this.id,c=a(this),d=c.parents(".wp-editor-wrap:eq(0)"),e=d.find("textarea.axiscomposer-tinymce"),f=d.find(".wp-switch-editor").removeAttr("onclick"),g={id:this.id,buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,spell,close"};quicktags(g),QTags._buttonsInit(),f.bind("click",function(){var c=a(this);if(c.is(".switch-tmce"))d.removeClass("html-active").addClass("tmce-active"),window.tinyMCE.execCommand("mceAddEditor",!0,b),window.tinyMCE.get(b).setContent(window.switchEditors.wpautop(e.val()),{format:"raw"});else{var f=e.val();window.tinyMCE.get(b)&&(f=window.tinyMCE.get(b).getContent()),d.removeClass("tmce-active").addClass("html-active"),window.tinyMCE.execCommand("mceRemoveEditor",!0,b),e.val(window.switchEditors._wp_Nop(f))}}),f.filter(".switch-tmce").trigger("click"),a(document.body).on("ac-enhanced-form-tinymce-update",function(){f.filter(".switch-html").trigger("click")}).on("ac-enhanced-form-tinymce-remove",function(){a(document.body).trigger("ac-init-wp-editor"),window.tinyMCE.execCommand("mceRemoveEditor",!0,b)})}),a(":input.color-picker-field, :input.color-picker").filter(":not(.enhanced)").each(function(){var b={palettes:["#000000","#ffffff","#B02B2C","#edae44","#eeee22","#83a846","#7bb0e7","#745f7e","#5f8789","#d65799","#4ecac2"]};a(this).wpColorPicker(b).addClass("enhanced")}),a(document.body).trigger("ac-enhanced-select-init")}).on("ac_backbone_modal_before_update",function(){a(document.body).trigger("ac-enhanced-form-tinymce-update")}).on("ac_backbone_modal_before_remove",function(){a(document.body).trigger("ac-enhanced-form-tinymce-remove"),a(":input.color-picker-field, :input.color-picker").wpColorPicker("close")}).trigger("ac-enhanced-modal-elements-init"),a(document.body).on("change",".ac-enhanced-form input[type=hidden], .ac-enhanced-form input[type=text], .ac-enhanced-form input[type=checkbox], .ac-enhanced-form textarea, .ac-enhanced-form select, .ac-enhanced-form radio",function(){var b=a(this),c=b.parents(".ac-backbone-modal-content:eq(0)");c.length||(c=a(document.body));var d=this.id.replace(/axiscomposerTB-/,""),e=c.find('.field-container[data-check-element="'+d+'"]'),f=b.parents(".field-container:eq(0)").is(".axiscomposer-hidden"),g=this.value;return b.is("input[type=checkbox]")&&!b.prop("checked")&&(g=""),e.length?void e.each(function(){var b=!1,c=a(this),d=c.data("check-operator"),e=c.data("check-value").toString();if(!f)switch(d){case"equals":b=g===e?!0:!1;break;case"not":b=g!==e?!0:!1;break;case"is_larger":b=g>e?!0:!1;break;case"is_smaller":b=e>g?!0:!1;break;case"contains":b=-1!==g.indexOf(e)?!0:!1;break;case"doesnot_contain":b=-1===g.indexOf(e)?!0:!1;break;case"is_empty_or":b=""===g||g===e?!0:!1;break;case"not_empty_and":b=""!==g||g!==e?!0:!1}b===!0&&c.is(".axiscomposer-hidden")?(c.css({display:"none"}).removeClass("axiscomposer-hidden").find("select, radio, input[type=checkbox]").trigger("change"),c.slideDown()):b!==!1||c.is(".axiscomposer-hidden")||(c.css({display:"block"}).addClass("axiscomposer-hidden").find("select, radio, input[type=checkbox]").trigger("change"),c.slideUp())}):!0})});